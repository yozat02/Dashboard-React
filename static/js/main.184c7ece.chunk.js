(this["webpackJsonpreact-redux-registration-login-example"]=this["webpackJsonpreact-redux-registration-login-example"]||[]).push([[0],{113:function(e,t,a){e.exports=a(218)},218:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(12),i=a(18),o=a(105),l=JSON.parse(localStorage.getItem("users"))||[];var c=a(17),u=Object(c.a)(),m=a(28),A=a(98),d=a.n(A),g=a(99),p="ALERT_SUCCESS",f="ALERT_ERROR",h="ALERT_CLEAR",E="USERS_REGISTER_REQUEST",b="USERS_REGISTER_SUCCESS",v="USERS_REGISTER_FAILURE",y="USERS_LOGIN_REQUEST",S="USERS_LOGIN_SUCCESS",O="USERS_LOGIN_FAILURE",C="USERS_LOGOUT",j="USERS_GETALL_REQUEST",w="USERS_GETALL_SUCCESS",N="USERS_GETALL_FAILURE",I="USERS_DELETE_REQUEST",k="USERS_DELETE_SUCCESS",R="USERS_DELETE_FAILURE",U=JSON.parse(localStorage.getItem("user")),T=U?{loggedIn:!0,user:U}:{};var Q=a(55),x=a(15);var z=Object(m.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loggingIn:!0,user:t.user};case S:return{loggedIn:!0,user:t.user};case O:case C:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{registering:!0};case b:case v:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0};case w:return{items:t.users};case N:return{error:t.error};case I:return Object(x.a)(Object(x.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(x.a)(Object(x.a)({},e),{},{deleting:!0}):e}))});case k:return{items:e.items.filter((function(e){return e.id!==t.id}))};case R:return Object(x.a)(Object(x.a)({},e),{},{items:e.items.map((function(e){if(e.id===t.id){e.deleting;var a=Object(Q.a)(e,["deleting"]);return Object(x.a)(Object(x.a)({},a),{},{deleteError:t.error})}return e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{type:"alert-success",message:t.message};case f:return{type:"alert-danger",message:t.message};case h:return{};default:return e}}}),L=Object(g.createLogger)(),B=Object(m.d)(z,Object(m.a)(d.a,L));function G(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var D=a(21),J=a(22),M=a(24),P=a(23),W=a(16),K={success:function(e){return{type:p,message:e}},error:function(e){return{type:f,message:e}},clear:function(){return{type:h}}};var F={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("/users/authenticate",a).then(H).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},logout:Y,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/users/register",t).then(H)},getAll:function(){var e={method:"GET",headers:G()};return fetch("/users",e).then(H)},getById:function(e){var t={method:"GET",headers:G()};return fetch("/users/".concat(e),t).then(H)},update:function(e){var t={method:"PUT",headers:Object(x.a)(Object(x.a)({},G()),{},{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("/users/".concat(e.id),t).then(H)},delete:function(e){var t={method:"DELETE",headers:G()};return fetch("/users/".concat(e),t).then(H)}};function Y(){localStorage.removeItem("user")}function H(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&Y();var r=a&&a.message||e.statusText;return Promise.reject(r)}return a}))}var _={login:function(e,t){return function(a){a({type:y,user:{username:e}}),F.login(e,t).then((function(e){a(function(e){return{type:S,user:e}}(e)),u.push("/")}),(function(e){a(function(e){return{type:O,error:e}}(e)),a(K.error(e))}))}},logout:function(){return F.logout(),{type:C}},register:function(e){return function(t){t(function(e){return{type:E,user:e}}(e)),F.register(e).then((function(e){t(function(e){return{type:b,user:e}}()),u.push("/login"),t(K.success("Registration successful"))}),(function(e){t(function(e){return{type:v,error:e}}(e)),t(K.error(e))}))}},getAll:function(){return function(e){e({type:j}),F.getAll().then((function(t){return e(function(e){return{type:w,users:e}}(t))}),(function(t){return e(function(e){return{type:N,error:e}}(t))}))}},delete:function(e){return function(t){t(function(e){return{type:I,id:e}}(e)),F.delete(e).then((function(a){t(function(e){return{type:k,id:e}}(e))}),(function(a){t(function(e,t){return{type:R,id:e,error:t}}(e,a))}))}}};var q=function(e){var t=e.component,a=Object(Q.a)(e,["component"]);return n.a.createElement(W.c,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?n.a.createElement(t,e):n.a.createElement(W.b,{to:{pathname:"/login",state:{from:e.location}}})}}))},V=a(241),Z=a(244),X=Object(V.a)((function(e){return{avatar:{float:"right",marginRight:20,marginTop:5}}})),$=function(e){var t=e.user,a=X(),r=t.firstName.substring(0,1).toUpperCase()+t.lastName.substring(0,1).toUpperCase();return n.a.createElement("div",{style:{textAlign:"center",border:"1px solid",height:50}},n.a.createElement("img",{src:"https://thegooddatafactory.com/images/logo-footer.png",style:{width:110,margin:10,float:"left"}}),n.a.createElement("h4",{style:{marginTop:15,marginRight:120,display:"inline-block"}},"Dashboad"),n.a.createElement(Z.a,{className:a.avatar},r))},ee=a(243),te=a(74),ae=a(7),re=function(){return n.a.createElement("div",{style:{marginTop:0}},n.a.createElement("h4",{style:{fontWeight:"bold"}},"Sentiments"),n.a.createElement("div",{style:{display:"flex",marginTop:-15}},n.a.createElement("h3",{style:{marginLeft:10,fontWeight:"bold"}},"21"),n.a.createElement("div",{style:{marginTop:20,marginLeft:10,color:"#bdbdbd"}},n.a.createElement("p",null,"90%"),n.a.createElement("p",{style:{fontSize:50,marginTop:-55,color:"#b71c1c",marginBottom:0}},"."))),n.a.createElement(te.a,{data:[{country:"Russia",area:5},{country:"Canada",area:20}],height:"75",width:"75"},n.a.createElement(ae.e,{scheme:["#00c853","#ff5722","#b71c1c"]}),n.a.createElement(te.b,{valueField:"area",argumentField:"country"})))},ne=a(104),se=function(){return n.a.createElement("div",{style:{marginTop:0}},n.a.createElement("h4",{style:{fontWeight:"bold",marginLeft:60}},"Share of Comments"),n.a.createElement(ne.Doughnut,{data:{datasets:[{data:[300,50,80],backgroundColor:["#3949ab","#f06292","#4a148c"]}]},height:120}))},ie=function(){return n.a.createElement("div",{style:{marginTop:0}},n.a.createElement("h4",{style:{fontWeight:"bold"}},"Buzz Words"),n.a.createElement("div",{style:{display:"flex",marginTop:20}},n.a.createElement("p",{style:{color:"#00c853",fontSize:24,fontWeight:"bold"}},"Buzz Words"),n.a.createElement("p",{style:{color:"#00c853",fontSize:13,marginLeft:50}},"Buzz Words")),n.a.createElement("div",{style:{display:"flex",margin:-10}},n.a.createElement("p",{style:{color:"#00c853",fontSize:19,fontWeight:"bold",marginLeft:100}},"Buzz Words"),n.a.createElement("p",{style:{color:"#00c853",fontSize:10,marginLeft:20,marginTop:15}},"Buzz Words")),n.a.createElement("div",{style:{display:"flex",margin:-10}},n.a.createElement("p",{style:{color:"#00c853",fontSize:19,fontWeight:"bold",marginLeft:20}},"Buzz Words"),n.a.createElement("p",{style:{color:"#b71c1c",fontSize:25,marginLeft:20,marginTop:-5}},"Buzz Words"),n.a.createElement("p",{style:{color:"#00c853",fontSize:17,marginLeft:20,marginTop:0}},"Buzz Words")),n.a.createElement("div",{style:{display:"flex",margin:-10}},n.a.createElement("p",{style:{color:"#ff5722",fontSize:12,fontWeight:"bold",marginLeft:50}},"Buzz Words"),n.a.createElement("p",{style:{color:"#b71c1c",fontSize:20,marginLeft:10,marginTop:-5}},"Buzz Words"),n.a.createElement("p",{style:{color:"#00c853",fontSize:15,marginLeft:30,marginTop:0}},"Buzz Words")))},oe=Object(V.a)((function(e){return{root:{marginTop:20,marginLeft:90,marginRight:90},avatar:{float:"right",marginRight:20,marginTop:5},summaryTable:{border:"1px solid",padding:30},cercle:{width:20,height:20,borderRadius:20,border:"1px solid",margin:10}}})),le=function(){var e=oe();return n.a.createElement("div",{className:e.root},n.a.createElement("h5",null,"Last 7 days Summary"),n.a.createElement("div",{className:e.summaryTable},n.a.createElement(ee.a,{container:!0,spacing:3},n.a.createElement(ee.a,{item:!0,xs:2},n.a.createElement(re,null)),n.a.createElement(ee.a,{item:!0,xs:3},n.a.createElement(se,null)),n.a.createElement(ee.a,{item:!0,xs:3},n.a.createElement("div",{style:{display:"flex",marginTop:60}},n.a.createElement("div",{className:e.cercle}),n.a.createElement("div",{className:e.cercle}),n.a.createElement("div",{className:e.cercle}))),n.a.createElement(ee.a,{item:!0,xs:4},n.a.createElement(ie,null)))))},ce=a(8),ue=a(242),me=Object(V.a)((function(e){var t,a,r;return{paper1:(t={padding:e.spacing(1),textAlign:"center"},Object(ce.a)(t,"padding",40),Object(ce.a)(t,"color","#ffffff"),Object(ce.a)(t,"backgroundColor","#00c853"),t),paper2:(a={padding:e.spacing(1),textAlign:"center"},Object(ce.a)(a,"padding",40),Object(ce.a)(a,"color","#ffffff"),Object(ce.a)(a,"backgroundColor","#ff5722"),a),paper3:(r={padding:e.spacing(1),textAlign:"center"},Object(ce.a)(r,"padding",40),Object(ce.a)(r,"color","#ffffff"),Object(ce.a)(r,"backgroundColor","#b71c1c"),r)}})),Ae=function(e){var t=e.name,a=e.polarity,r=me();return n.a.createElement("div",null,"positive"==a&&n.a.createElement(ue.a,{className:r.paper1},t),"neutral"==a&&n.a.createElement(ue.a,{className:r.paper2},t),"negative"==a&&n.a.createElement(ue.a,{className:r.paper3},t))},de=a(73),ge=Object(V.a)((function(e){var t,a,r;return{root:{marginTop:20,marginLeft:90,marginRight:90},rootGrid:{flexGrow:1,padding:40},productBuzz:{border:"1px solid"},paper1:(t={padding:e.spacing(1),textAlign:"center"},Object(ce.a)(t,"padding",40),Object(ce.a)(t,"color","#ffffff"),Object(ce.a)(t,"backgroundColor","#00c853"),t),paper2:(a={padding:e.spacing(1),textAlign:"center"},Object(ce.a)(a,"padding",40),Object(ce.a)(a,"color","#ffffff"),Object(ce.a)(a,"backgroundColor","#ff5722"),a),paper3:(r={padding:e.spacing(1),textAlign:"center"},Object(ce.a)(r,"padding",40),Object(ce.a)(r,"color","#ffffff"),Object(ce.a)(r,"backgroundColor","#b71c1c"),r)}})),pe=function(){var e=ge();function t(e){e.num;return n.a.createElement(n.a.Fragment,null,de.map((function(e){return n.a.createElement(ee.a,{item:!0,xs:2},n.a.createElement(Ae,{name:e.name,polarity:e.polarity}))})))}return console.log(de),n.a.createElement("div",{className:e.root},n.a.createElement("h5",null,"Product Buzz"),n.a.createElement("div",{className:e.productBuzz},n.a.createElement("div",{className:e.rootGrid},n.a.createElement(ee.a,{container:!0,spacing:3},n.a.createElement(ee.a,{container:!0,item:!0,xs:12,spacing:3},n.a.createElement(t,{num:0}))))))},fe=function(e){Object(M.a)(a,e);var t=Object(P.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"handleDeleteUser",value:function(e){var t=this;return function(a){return t.props.deleteUser(e)}}},{key:"render",value:function(){var e=this.props,t=e.user;e.users;return n.a.createElement("div",null,n.a.createElement($,{user:t}),n.a.createElement(le,null),n.a.createElement(pe,null))}}]),a}(n.a.Component);var he={getUsers:_.getAll,deleteUser:_.delete},Ee=Object(i.b)((function(e){var t=e.users;return{user:e.authentication.user,users:t}}),he)(fe),be=a(25),ve=function(e){Object(M.a)(a,e);var t=Object(P.a)(a);function a(e){var r;return Object(D.a)(this,a),(r=t.call(this,e)).props.logout(),r.state={username:"",password:"",submitted:!1},r.handleChange=r.handleChange.bind(Object(be.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(be.a)(r)),r}return Object(J.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(ce.a)({},a,r))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.username,r=t.password;a&&r&&this.props.login(a,r)}},{key:"render",value:function(){var e=this.props.loggingIn,t=this.state,a=t.username,r=t.password,s=t.submitted;return n.a.createElement("div",{class:" content"},n.a.createElement("div",{class:" row",style:{margin:0}},n.a.createElement("div",{class:" col-lg-8"},n.a.createElement("img",{src:"https://thegooddatafactory.com/images/logo-footer.png",style:{width:360,margin:40}}),n.a.createElement("h6",{style:{margin:60}},"Welcome "),n.a.createElement("p",{style:{margin:60}},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed id ipsum sit amet metus mattis cursus. Nullam tristique, nibh ut tempus tristique, ligula sem mollis felis, ac luctus nunc purus consectetur sapien. Morbi in nunc pulvinar, scelerisque enim nec, lobortis enim. Aenean non tempor risus. Phasellus vestibulum dapibus libero, quis tristique dui faucibus ac. Etiam lacinia, odio at fermentum volutpat, velit metus interdum erat, eu dapibus neque nisl sit amet est. Nam et est ut ipsum pulvinar efficitur vel non massa. In gravida nec enim eget consequat. Suspendisse feugiat elit lacus, a posuere ligula convallis in. Duis laoreet justo et fermentum suscipit, magna purus egestas ex, vitae elementum arcu dolor sit amet sem.")),n.a.createElement("div",{class:" col-lg-4"},n.a.createElement("div",{style:{marginTop:250,backgroundColor:"#84ffff",borderRadius:20,padding:15,width:350,borderStyle:"solid"}},n.a.createElement("h2",{style:{textAlign:"center"}},"Login"),n.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"+(s&&!a?" has-error":"")},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a,onChange:this.handleChange}),s&&!a&&n.a.createElement("div",{className:"help-block"},"Username is required")),n.a.createElement("div",{className:"form-group"+(s&&!r?" has-error":"")},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",name:"password",value:r,onChange:this.handleChange}),s&&!r&&n.a.createElement("div",{className:"help-block"},"Password is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-primary"},"Login"),e&&n.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="})))),n.a.createElement("p",null,"You don't have an account ?",n.a.createElement(W.a,{to:"/register",className:"btn btn-link"},"Sign Up ")))))}}]),a}(n.a.Component);var ye={login:_.login,logout:_.logout},Se=Object(i.b)((function(e){return{loggingIn:e.authentication.loggingIn}}),ye)(ve),Oe=function(e){Object(M.a)(a,e);var t=Object(P.a)(a);function a(e){var r;return Object(D.a)(this,a),(r=t.call(this,e)).state={user:{firstName:"",lastName:"",username:"",password:""},submitted:!1},r.handleChange=r.handleChange.bind(Object(be.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(be.a)(r)),r}return Object(J.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,r=t.value,n=this.state.user;this.setState({user:Object(x.a)(Object(x.a)({},n),{},Object(ce.a)({},a,r))})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.user;t.firstName&&t.lastName&&t.username&&t.password&&this.props.register(t)}},{key:"render",value:function(){var e=this.props.registering,t=this.state,a=t.user,r=t.submitted;return n.a.createElement("div",{style:{marginTop:150,backgroundColor:"#84ffff",borderRadius:20,padding:15,width:350,marginLeft:600,borderStyle:"solid"}},n.a.createElement("h2",null,"Register"),n.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"+(r&&!a.firstName?" has-error":"")},n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement("input",{type:"text",className:"form-control",name:"firstName",value:a.firstName,onChange:this.handleChange}),r&&!a.firstName&&n.a.createElement("div",{className:"help-block"},"First Name is required")),n.a.createElement("div",{className:"form-group"+(r&&!a.lastName?" has-error":"")},n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement("input",{type:"text",className:"form-control",name:"lastName",value:a.lastName,onChange:this.handleChange}),r&&!a.lastName&&n.a.createElement("div",{className:"help-block"},"Last Name is required")),n.a.createElement("div",{className:"form-group"+(r&&!a.username?" has-error":"")},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a.username,onChange:this.handleChange}),r&&!a.username&&n.a.createElement("div",{className:"help-block"},"Username is required")),n.a.createElement("div",{className:"form-group"+(r&&!a.password?" has-error":"")},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a.password,onChange:this.handleChange}),r&&!a.password&&n.a.createElement("div",{className:"help-block"},"Password is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-primary"},"Register"),e&&n.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),n.a.createElement(W.a,{to:"/login",className:"btn btn-link"},"Cancel"))))}}]),a}(n.a.Component);var Ce={register:_.register},je=Object(i.b)((function(e){return{registering:e.registration.registering}}),Ce)(Oe),we=function(e){Object(M.a)(a,e);var t=Object(P.a)(a);function a(e){var r;return Object(D.a)(this,a),r=t.call(this,e),u.listen((function(e,t){r.props.clearAlerts()})),r}return Object(J.a)(a,[{key:"render",value:function(){var e=this.props.alert;return n.a.createElement("div",null,n.a.createElement("div",null,e.message&&n.a.createElement("div",{className:"alert ".concat(e.type)},e.message),n.a.createElement(W.d,{history:u},n.a.createElement(W.e,null,n.a.createElement(q,{exact:!0,path:"/",component:Ee}),n.a.createElement(W.c,{path:"/login",component:Se}),n.a.createElement(W.c,{path:"/register",component:je}),n.a.createElement(W.b,{from:"*",to:"/"})))))}}]),a}(n.a.Component);var Ne={clearAlerts:K.clear},Ie=Object(i.b)((function(e){return{alert:e.alert}}),Ne)(we);!function(){var e=window.fetch;window.fetch=function(t,a){return new Promise((function(r,n){setTimeout((function(){if(t.endsWith("/users/authenticate")&&"POST"===a.method){var s=JSON.parse(a.body),i=l.filter((function(e){return e.username===s.username&&e.password===s.password}));if(i.length){var c=i[0],u={id:c.id,username:c.username,firstName:c.firstName,lastName:c.lastName,token:"fake-jwt-token"};r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(u))}})}else n("Username or password is incorrect")}else if(t.endsWith("/users")&&"GET"===a.method)a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization?r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(l))}}):n("Unauthorised");else if(t.match(/\/users\/\d+$/)&&"GET"===a.method)if(a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization){var m=t.split("/"),A=parseInt(m[m.length-1]),d=l.filter((function(e){return e.id===A})),g=d.length?d[0]:null;r({ok:!0,text:function(){return JSON.stringify(g)}})}else n("Unauthorised");else{if(t.endsWith("/users/register")&&"POST"===a.method){var p=JSON.parse(a.body);return l.filter((function(e){return e.username===p.username})).length?void n('Username "'+p.username+'" is already taken'):(p.id=l.length?Math.max.apply(Math,Object(o.a)(l.map((function(e){return e.id}))))+1:1,l.push(p),localStorage.setItem("users",JSON.stringify(l)),void r({ok:!0,text:function(){return Promise.resolve()}}))}if(t.match(/\/users\/\d+$/)&&"DELETE"===a.method)if(a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization){for(var f=t.split("/"),h=parseInt(f[f.length-1]),E=0;E<l.length;E++){if(l[E].id===h){l.splice(E,1),localStorage.setItem("users",JSON.stringify(l));break}}r({ok:!0,text:function(){return Promise.resolve()}})}else n("Unauthorised");else e(t,a).then((function(e){return r(e)}))}}),500)}))}}(),Object(s.render)(n.a.createElement(i.a,{store:B},n.a.createElement(Ie,null)),document.getElementById("app"))},73:function(e){e.exports=JSON.parse('[{"name":"Product 1","score":"80","polarity":"positive"},{"name":"Product 2","score":"80","polarity":"negative"},{"name":"Product 3","score":"80","polarity":"negative"},{"name":"Product 4","score":"80","polarity":"neutral"},{"name":"Product 5","score":"80","polarity":"positive"},{"name":"Product 6","score":"80","polarity":"negative"},{"name":"Product 7","score":"80","polarity":"neutral"},{"name":"Product 8","score":"80","polarity":"positive"},{"name":"Product 9","score":"80","polarity":"positive"},{"name":"Product 10","score":"80","polarity":"positive"},{"name":"Product 11","score":"80","polarity":"negative"},{"name":"Product 12","score":"80","polarity":"neutral"}]')}},[[113,1,2]]]);
//# sourceMappingURL=main.184c7ece.chunk.js.map